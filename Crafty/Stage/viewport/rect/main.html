<!DOCTYPE html>
<html>
  <head>
    <style>
      #cr-stage {
        border-style:solid;
      }
    </style>
  </head>
  <body>
    <div>Note that Crafty.viewport.x=100; but the value of rect._x is -100.</div>
    <div id='viewport'></div>
    <script type="text/javascript" src="https://rawgithub.com/craftyjs/Crafty/release/dist/crafty.js"></script>
    <script>
      window.onload = function () {
        Crafty.init(400, 336);
        Crafty.scene("main", function () {
          Crafty.e("2D, DOM, Color")
          .attr({x: 100, y: 100, w: 150, h: 200})
          .color("red");
        });

        Crafty.viewport.x=100;
        Crafty.viewport.y=50;
        document.getElementById('viewport').innerHTML=JSON.stringify(Crafty.viewport.rect());
        Crafty.scene("main");
      };
    </script>
  </body>
</html>
